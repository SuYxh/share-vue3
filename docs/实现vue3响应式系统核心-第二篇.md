å®ç° vue3 å“åº”å¼ç³»ç»Ÿæ ¸å¿ƒ -- ç¬¬äºŒç¯‡

## ç®€ä»‹

2023 å¹´ 12 æœˆ 31 æ—¥ï¼Œvue2 å·²ç»åœæ­¢ç»´æŠ¤äº†ã€‚ä½ è¿˜ä¸ä¼š Vue3 çš„æºç ä¹ˆï¼Ÿ

æ‰‹æŠŠæ‰‹å¸¦ä½ å®ç°ä¸€ä¸ª vue3 å“åº”å¼ç³»ç»Ÿï¼Œä½ å°†è·å¾—ï¼š

- TDD æµ‹è¯•é©±åŠ¨å¼€å‘
- é‡æ„
- [vitest](https://cn.vitest.dev/) çš„ä½¿ç”¨
- å¦‚ä½•ä½¿ç”¨  [ChatGPT](https://ask.vuejs.news/) ç¼–å†™å•å…ƒæµ‹è¯•
- å“åº”å¼æ•°æ®ä»¥åŠå‰¯ä½œç”¨å‡½æ•°
- å“åº”å¼ç³»ç»ŸåŸºæœ¬å®ç°
- Vue3 çš„å“åº”å¼çš„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆæ ·ï¼Ÿä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿå¦‚ä½•å½¢æˆçš„ï¼Ÿ
- Proxy ä¸ºä»€ä¹ˆè¦é…åˆ Reflect ä½¿ç”¨ï¼Ÿå¦‚æœä¸é…åˆä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- Map ä¸  WeakMapçš„åŒºåˆ«
- ä¾èµ–æ”¶é›†
- æ´¾å‘æ›´æ–°
- ä¾èµ–æ¸…ç†
- æ”¯æŒåµŒå¥—
- å®ç°æ‰§è¡Œè°ƒåº¦
- å®ç° computed
- å®ç° watch
- excalidraw ç”»å›¾å·¥å…·

ä»£ç åœ°å€ï¼š https://github.com/SuYxh/share-vue3 

ä»£ç å¹¶æ²¡æœ‰æŒ‰ç…§æºç çš„æ–¹å¼å»è¿›è¡Œç»„ç»‡ï¼Œç›®çš„æ˜¯å­¦ä¹ ã€å®ç° vue3 å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œç”¨æœ€å°‘çš„ä»£ç å»å®ç°æœ€æ ¸å¿ƒçš„èƒ½åŠ›ï¼Œå‡å°‘æˆ‘ä»¬çš„å­¦ä¹ è´Ÿæ‹…ï¼Œå¹¶ä¸”æ‰€æœ‰çš„æµç¨‹éƒ½ä¼šæœ‰é…å¥—çš„å›¾ç‰‡ï¼Œå›¾æ–‡ + ä»£ç ï¼Œè®©æˆ‘ä»¬å­¦ä¹ æ›´åŠ è½»æ¾ã€å¿«ä¹ã€‚

æ¯ä¸€ä¸ªåŠŸèƒ½éƒ½ä¼šæäº¤ä¸€ä¸ª `commit` ï¼Œå¤§å®¶å¯ä»¥åˆ‡æ¢æŸ¥çœ‹ï¼Œä¹Ÿé¡ºå˜ç»ƒä¹ ç»ƒä¹  git çš„ä½¿ç”¨ã€‚



## ä¾èµ–æ¸…ç†

### case

åœ¨ä¸Šç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªå“åº”å¼ç³»ç»Ÿï¼Œä½†æ˜¯ä»æœ‰ä¸è¶³ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ç»§ç»­è¿›è¡Œä¼˜åŒ–å’Œå¢å¼ºã€‚æ¥çœ‹ä¸€ä¸ª case

```js
it('Dependency cleanup', () => {
  const consoleSpy = vi.spyOn(console, 'log'); // æ•è· console.log
  const obj = reactive({ name: 'dahuang', age: 18, isStudent: true })

  effect(() => {
    const info = obj.isStudent ? obj.name : obj.age
    console.log(info);
  })

  // effect ç«‹å³æ‰§è¡Œï¼Œæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰“å° 'dahuang'
  expect(consoleSpy).toHaveBeenCalledTimes(1); 
  expect(consoleSpy).toHaveBeenCalledWith('dahuang');

  // ä¿®æ”¹ name --> jarvis,  effectçš„å›è°ƒä¼šå†æ¬¡æ‰§è¡Œï¼Œæ‰“å° 'jarvis'
  obj.name = 'jarvis'
  expect(consoleSpy).toHaveBeenCalledTimes(2); 
  expect(consoleSpy).toHaveBeenCalledWith('jarvis');

  // ä¿®æ”¹ isStudent --> false,  effectçš„å›è°ƒä¼šå†æ¬¡æ‰§è¡Œï¼Œæ‰“å° 18
  obj.isStudent = false
  expect(consoleSpy).toHaveBeenCalledTimes(3); 
  expect(consoleSpy).toHaveBeenCalledWith(18);

  // å†æ¬¡ä¿®æ”¹ name -->  iron man,  æœŸå¾…effectçš„å›è°ƒä¸ä¼šæ‰§è¡Œ
  obj.name = 'iron man'
  expect(consoleSpy).toHaveBeenCalledTimes(3); 
})
```

ç›´æ¥è·‘è¿™ä¸ª case ä¸ä¼šé€šè¿‡ï¼š

![image-20240117233100065](https://qn.huat.xyz/mac/202401172331199.png)

### åˆ†æ case

çœ‹ä¸€ä¸‹è¿™ä¸ª case çš„é€»è¾‘ï¼š

1ã€ effect ç«‹å³æ‰§è¡Œï¼Œæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰“å° 'dahuang'ï¼Œæ²¡é—®é¢˜

2ã€ä¿®æ”¹ name --> jarvis,  effectçš„å›è°ƒä¼šå†æ¬¡æ‰§è¡Œï¼Œæ‰“å° 'jarvis'ï¼Œæ•°æ®æ›´æ–°ï¼Œå›è°ƒé‡æ–°æ‰§è¡Œï¼Œæ²¡é—®é¢˜

3ã€ä¿®æ”¹ isStudent --> false,  effectçš„å›è°ƒä¼šå†æ¬¡æ‰§è¡Œï¼Œæ‰“å° 18ï¼Œæ•°æ®æ›´æ–°ï¼Œå›è°ƒé‡æ–°æ‰§è¡Œï¼Œæ²¡é—®é¢˜

4ã€å†æ¬¡ä¿®æ”¹ name -->  iron man, æœŸå¾…effectçš„å›è°ƒä¸ä¼šæ‰§è¡Œï¼Œ æ­¤æ—¶çš„ä¾èµ–åº”è¯¥æ˜¯ ageï¼Œå¹¶ä¸æ˜¯ nameï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡å›è°ƒå‡½æ•°ä¸åº”è¯¥æ‰§è¡Œï¼Œä½†æ˜¯è¿™é‡Œæ‰§è¡Œäº†ã€‚



### åŸå› åˆ†æ

é‚£ä¹ˆæ˜¯ä»€ä¹ˆé€ æˆçš„å‘¢ï¼Ÿä¹‹å‰æ”¶åˆ°çš„ä¾èµ–æ²¡æœ‰æ¸…ç†ã€‚æˆ‘ä»¬æ‰“ä¸ªæ–­ç‚¹çœ‹ä¸€ä¸‹å½“å‰çš„ `bucket` çš„æ•°æ®

![image-20240117233242648](https://qn.huat.xyz/mac/202401172332682.png)

ç„¶åè¿›è¡Œ `å•æ­¥è°ƒè¯• ` ç›´åˆ°è¿›å…¥ `trigger` æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° `name` å¯¹åº”çš„ `Set`  è¿™ä¸ªæ•°æ®ç»“æ„ä¸­è¿˜æœ‰ä¾èµ–ï¼Œæ˜¯**ä¹‹å‰æ”¶é›†åˆ°çš„ï¼Œå¹¶æ²¡æœ‰è¢«åˆ é™¤**ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œåˆ° `effects && effects.forEach((fn) => fn());` è¿™è¡Œä»£ç çš„æ—¶å€™ï¼Œå›è°ƒå‡½æ•°å°±ä¼šå†æ¬¡æ‰§è¡Œã€‚

![image-20240117233427444](https://qn.huat.xyz/mac/202401172334484.png)

### è§£å†³æ–¹å¼

**æ¯æ¬¡å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠå®ƒä»æ‰€æœ‰ä¸ä¹‹å…³è”çš„ä¾èµ–é›†åˆä¸­åˆ é™¤**ï¼Œå½“å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œä¼šé‡æ–°å»ºç«‹è”ç³»ï¼Œä½†åœ¨æ–°çš„è”ç³»ä¸­ä¸ä¼šåŒ…å«é—ç•™çš„å‰¯ä½œç”¨å‡½æ•°ã€‚

> å‰¯ä½œç”¨å‡½æ•°å°±æ˜¯æˆ‘ä»¬å†™çš„å›è°ƒå‡½æ•°ï¼Œå‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šè¿›è¡Œå–å€¼æ“ä½œï¼Œä¼šèµ° track æ–¹æ³•ï¼Œè¿›è¡Œä¾èµ–æ„å»ºï¼Œå¯ä»¥çœ‹ä¸Šç¯‡æ–‡ç« æœ€åçš„æµç¨‹å›¾ï¼Œéå¸¸æ¸…æ™°

è¦å°†ä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°ä»æ‰€æœ‰ä¸ä¹‹å…³è”çš„ä¾èµ–é›†åˆä¸­ç§»é™¤ï¼Œå°±éœ€è¦æ˜ç¡®çŸ¥é“å“ªäº›ä¾èµ–é›†åˆä¸­åŒ…å«å®ƒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é‡æ–°è®¾è®¡å‰¯ä½œç”¨å‡½æ•°ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚åœ¨ effect å†…éƒ¨æˆ‘ä»¬å®šä¹‰äº†æ–°çš„ effectFnå‡½æ•°ï¼Œå¹¶ä¸ºå…¶æ·»åŠ äº† effectFn.depså±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ¥å­˜å‚¨æ‰€æœ‰åŒ…å«å½“å‰å‰¯ä½œç”¨å‡½æ•°çš„ä¾èµ–é›†åˆï¼š

```js
export function effect(fn) {
  const effectFn = () => {
    // å°† fn æŒ‚è½½åˆ° effectFn æ–¹ä¾¿è°ƒè¯•è§‚çœ‹åŒºåˆ†å‡½æ•°ï¼Œæ²¡æœ‰å®é™…ä½œç”¨
    effectFn.fn = fn
    // è®¾ç½®å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°
    activeEffect = fn;
    // æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°
    fn();
    // é‡ç½®å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°
    activeEffect = null;
  };
  // activeEffect.deps ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ
  effectFn.deps = [];
  // æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°
  effectFn();
}
```

> æ€è€ƒğŸ¤”ï¼šè¿™é‡Œæˆ‘ä»¬åœ¨ `effectFn`èº«ä¸ŠæŒ‚äº†ä¸€ä¸ª`deps`ï¼Œè¿™é‡Œèƒ½ä¸èƒ½ä½¿ç”¨ç±»çš„æ–¹å¼æ¥é‡æ„è¿™å—ä»£ç ï¼Ÿ

#### åŒå‘ä¾èµ–æ„å»º

`effectFn.deps = [];` è¯´é€šä¿—ä¸€ç‚¹å°±æ˜¯å½“å‰å‰¯ä½œç”¨å‡½æ•°è¢«æ”¶é›†åœ¨é‚£ä¸ª Set çš„æ•°æ®ç»“æ„ä¸­ï¼Œè®©æˆ‘ä»¬æ¥çœ‹å›¾ï¼š

![image-20240117222558551](https://qn.huat.xyz/mac/202401172225592.png)

æ£•è‰²çš„ç®­å¤´æ˜¯ä¹‹å‰å·²ç»å­˜åœ¨çš„ï¼Œå›å¿†ä¸€ä¸‹è¿™ä¸ªè”ç³»æ˜¯åœ¨å“ªé‡Œæ„å»ºçš„å‘¢ï¼Ÿ

```js
function track(target, key) {
  // ... ä¹‹å‰çš„ä»£ç 

  // æœ€åå°†å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°â€œæ¡¶â€é‡Œ
  deps.add(activeEffect);
}
```

é‚£ä¹ˆå¦‚ä½•æ„å»ºè¿™ä¸ªçº¢è‰²ç®­å¤´çš„å…³ç³»å‘¢ï¼Ÿ

```js
function track(target, key) {
  // ... ä¹‹å‰çš„ä»£ç 

  // æœ€åå°†å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°â€œæ¡¶â€é‡Œ
  deps.add(activeEffect);
  // depså°±æ˜¯å½“å‰å‰¯ä½œç”¨å‡½æ•°å­˜åœ¨è”ç³»çš„ä¾èµ–é›†åˆ
  // å°†å…¶æ·»åŠ åˆ°activeEffect.depsæ•°ç»„ä¸­
  activeEffect.deps.push(deps); // æ„å»ºçº¢è‰²ç®­å¤´çš„å…³ç³»
}
```

çº¢è‰²ç®­å¤´ä¸ºä»€ä¹ˆä¼šæœ‰äº¤å‰çš„æƒ…å†µï¼Ÿæˆ‘ä»¬æ¥å†™ä¸€ä¸ª case çœ‹çœ‹ï¼š

```js
it('effecFn è¢«æ”¶é›†åœ¨å¤šä¸ªä¾èµ–é›†åˆä¸­', () => {
  const obj = reactive({ name: 'dahuang', age: 18, isStudent: true })

  effect(function effectFn1() {
    const info = obj.name + obj.age
    console.log(info);
  })
}) 
```

è°ƒè¯•ç»“æœå¦‚ä¸‹ï¼š

![image-20240117234112420](https://qn.huat.xyz/mac/202401172341462.png)

#### ä¾èµ–åˆ é™¤

ç°åœ¨åŒå‘ä¾èµ–å·²ç»æ„å»ºå®Œæˆï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œåˆ é™¤

- ä»€ä¹ˆæ—¶å€™åˆ é™¤ï¼Ÿæ¯æ¬¡å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶
- å¦‚ä½•åˆ é™¤ï¼Ÿæ‰¾åˆ° `effectFn` æ‰€åœ¨çš„ä¾èµ–é›†åˆï¼Œç„¶ååœ¨é›†åˆä¸­åˆ é™¤ `effectFn`

ä»£ç å¦‚ä¸‹ï¼š

```js
function cleanup(effectFn) {
  // éå† effectFn.deps æ•°ç»„
  for (let i = 0; i < effectFn.deps.length; i++) {
    // deps æ˜¯ä¾èµ–é›†åˆ
    const deps = effectFn.deps[i];
    // å°† effectFn ä»ä¾èµ–é›†åˆä¸­ç§»é™¤
    deps.delete(effectFn);
  }
  // æœ€åéœ€è¦é‡ç½® effectFn.deps æ•°ç»„
  effectFn.deps.length = 0;
}
```

#### æ­»å¾ªç¯é—®é¢˜

å…ˆä¸è¿è¡Œä»£ç ï¼Œä¼šå¾ªç¯ï¼ï¼ï¼

é—®é¢˜å‡ºåœ¨ `trigger`å‡½æ•°ä¸­:

```js
function trigger(target, key) {
  // è·å–ä¸ç›®æ ‡å¯¹è±¡ç›¸å…³è”çš„ä¾èµ–æ˜ å°„
  const depsMap = bucket.get(target);
  // å¦‚æœæ²¡æœ‰ä¾èµ–æ˜ å°„ï¼Œåˆ™ç›´æ¥è¿”å›
  if (!depsMap) return;
  // è·å–ä¸ç‰¹å®šå±æ€§é”®ç›¸å…³è”çš„æ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°
  const effects = depsMap.get(key);
  // è¿™è¡Œä»£ç æœ‰é—®é¢˜
  effects && effects.forEach((effectFn) => effectFn()); 
}
```

åœ¨` trigger` å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä»¬éå† `effects` é›†åˆï¼Œå®ƒæ˜¯ä¸€ä¸ª `Set` é›†åˆï¼Œé‡Œé¢å­˜å‚¨ç€å‰¯ä½œç”¨å‡½æ•°ã€‚å½“å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šè°ƒç”¨`cleanup` è¿›è¡Œæ¸…é™¤ï¼Œå®é™…ä¸Šå°±æ˜¯ä» `effects` é›†åˆä¸­å°†å½“å‰æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°å‰”é™¤ï¼Œä½†æ˜¯å‰¯ä½œç”¨å‡½æ•°çš„æ‰§è¡Œä¼šå¯¼è‡´å…¶é‡æ–°è¢«æ”¶é›†åˆ°é›†åˆä¸­ï¼Œè€Œæ­¤æ—¶å¯¹äº `effects`é›†åˆçš„éå†ä»åœ¨è¿›è¡Œã€‚è¿™ä¸ªè¡Œä¸ºå¯ä»¥ç”¨å¦‚ä¸‹ç®€çŸ­çš„ä»£ç æ¥è¡¨è¾¾ï¼š

```js
const set = new Set([1])
set.forEach(item => {
  set.delete(1)
  set.add(1)
  console.log('éå†ä¸­...');
})
```

åœ¨ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªé›†åˆ `Set`ï¼Œå®ƒé‡Œé¢æœ‰ä¸€ä¸ªå…ƒç´ æ•°å­— 1ï¼Œæ¥ç€æˆ‘ä»¬è°ƒç”¨ `forEach`éå†è¯¥é›†åˆã€‚åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆè°ƒç”¨ `delete(1)`åˆ é™¤æ•°å­— 1ï¼Œç´§æ¥ç€è°ƒç”¨ `add(1)`å°†æ•°å­— 1åŠ å›ï¼Œæœ€åæ‰“å° 'éå†ä¸­'ã€‚å¦‚æœæˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œè¿™æ®µä»£ç ï¼Œå°±ä¼šå‘ç°å®ƒä¼šæ— é™æ‰§è¡Œä¸‹å»ã€‚

åœ¨è°ƒç”¨ `forEach`éå† `Set` é›†åˆæ—¶ï¼Œå¦‚æœä¸€ä¸ªå€¼å·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œä½†è¯¥å€¼è¢«åˆ é™¤å¹¶é‡æ–°æ·»åŠ åˆ°é›†åˆï¼Œå¦‚æœæ­¤æ—¶ `forEach`éå†æ²¡æœ‰ç»“æŸï¼Œé‚£ä¹ˆè¯¥å€¼ä¼šé‡æ–°è¢«è®¿é—®ã€‚å› æ­¤ï¼Œä¸Šé¢çš„ä»£ç ä¼šæ— é™æ‰§è¡Œã€‚è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ å¦å¤–ä¸€ä¸ª`Set` é›†åˆå¹¶éå†å®ƒï¼š

```js
const set = new Set([1])
const newSet = new Set(set)
newSet.forEach(item => {
  set.delete(1)
  set.add(1)
  console.log('éå†ä¸­...');
})
```

å›åˆ° `trigger`å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦åŒæ ·çš„æ‰‹æ®µæ¥é¿å…æ— é™æ‰§è¡Œï¼š

```js
function trigger(target, key) {
  // è·å–ä¸ç›®æ ‡å¯¹è±¡ç›¸å…³è”çš„ä¾èµ–æ˜ å°„
  const depsMap = bucket.get(target);
  // å¦‚æœæ²¡æœ‰ä¾èµ–æ˜ å°„ï¼Œåˆ™ç›´æ¥è¿”å›
  if (!depsMap) return;
  // è·å–ä¸ç‰¹å®šå±æ€§é”®ç›¸å…³è”çš„æ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°
  const effects = depsMap.get(key);
  // è¿™è¡Œä»£ç æœ‰é—®é¢˜
  // effects && effects.forEach((effectFn) => effectFn()); 

  // åˆ›å»ºä¸€ä¸ªæ–°çš„ Set æ¥å­˜å‚¨éœ€è¦æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°ï¼Œé¿å…åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„é‡å¤æˆ–æ— é™å¾ªç¯
  const effectsToRun = new Set(effects);
  // éå†å¹¶æ‰§è¡Œæ‰€æœ‰ç›¸å…³çš„å‰¯ä½œç”¨å‡½æ•°
  effectsToRun.forEach((effectFn) => effectFn());
}
```

æˆ‘ä»¬æ–°æ„é€ äº† `effectsToRun` é›†åˆå¹¶éå†å®ƒï¼Œä»£æ›¿ç›´æ¥éå† `effects` é›†åˆï¼Œä»è€Œé¿å…äº†æ— é™æ‰§è¡Œã€‚

å›¾è§£å¦‚ä¸‹ï¼š

![image-20240117235122454](https://qn.huat.xyz/mac/202401172351512.png)



#### è¿è¡Œå•æµ‹

ç°åœ¨æˆ‘ä»¬å†å»è¿è¡Œæˆ‘ä»¬çš„å•æµ‹ï¼Œå°±å¯ä»¥çœ‹åˆ°å¯ä»¥é€šè¿‡äº†

![image-20240117235220666](https://qn.huat.xyz/mac/202401172352733.png)

### æµç¨‹å›¾è§£



![image-20240117235403408](https://qn.huat.xyz/mac/202401172354469.png)

ç›¸å…³ä»£ç åœ¨ `commitï¼š (00fb4a2)`å®ç°ä¾èµ–æ¸…ç† ï¼Œ`git checkout 00fb4a2` å³å¯æŸ¥çœ‹ã€‚ 





